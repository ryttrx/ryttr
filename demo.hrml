<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Demos ‚Ä¢ ryttr</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0b0f19; --surface:#121826; --text:#e6e6e6; --muted:#aab0bd; --accent:#5b9cff; }
    body{
      margin:0; min-height:100vh; background:var(--bg); color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      display:grid; place-items:center; padding:24px;
    }
    .wrap{ width:100%; max-width:960px; }
    .head{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:16px; }
    .pill{ display:inline-block; padding:6px 10px; border:1px solid rgba(255,255,255,.14); border-radius:999px; font-size:12px; color:#cfd6e4; }
    .grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
    .card{
      background:var(--surface); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:18px;
      text-decoration:none; color:var(--text); box-shadow:0 10px 30px rgba(0,0,0,.25);
    }
    .card h3{ margin:0 0 6px; font-size:18px; }
    .card p{ margin:0; color:var(--muted); font-size:14px; }
    .muted{ color:var(--muted); }
    .links{ margin-top:16px; font-size:14px; }
    .links a{ color:#8fbcff; text-decoration:none; margin-right:12px; }
    @media (max-width:800px){ .grid{ grid-template-columns:1fr 1fr; } }
    @media (max-width:520px){ .grid{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <main class="wrap">
    <div class="head">
      <h1 style="margin:0;">ryttr demos</h1>
      <span id="statusPill" class="pill">Checking session</span>
    </div>
    <p id="hint" class="muted">Sign in to try the demos. Each demo has its own 3 run limit.</p>

    <section class="grid" aria-label="Demo list">
      <a class="card" href="/demo-yt-transcript.html">
        <h3>üì∫ YouTube transcript</h3>
        <p>Paste a YouTube link and get the transcript. 3 free runs.</p>
      </a>

      <!-- Future demos: create the page then link it here -->
      <a class="card" href="#" onclick="alert('Coming soon'); return false;">
        <h3>üìù Online journal preview</h3>
        <p>Simple editor with autosave and export. Coming soon.</p>
      </a>

      <a class="card" href="#" onclick="alert('Coming soon'); return false;">
        <h3>&lt;/&gt; Coding helper</h3>
        <p>Small code utilities and snippets. Coming soon.</p>
      </a>
    </section>

    <div class="links">
      <a href="/">Back to landing</a>
      <a id="loginLink" href="/login.html">Sign in</a>
      <a id="logoutLink" href="#" style="display:none;">Sign out</a>
    </div>
  </main>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    const { createClient } = supabase;
    const db = createClient(
      "https://fuiuaiquuhhsxrhzwtoa.supabase.co",
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ1aXVhaXF1dWhoc3hyaHp3dG9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0OTA3NjAsImV4cCI6MjA3NTA2Njc2MH0.fVM46kXmEx-SuzXOzHwOgeXEKSp4qgS-wFWKQZf-4WY"
    );

    const statusPill = document.getElementById("statusPill");
    const hint = document.getElementById("hint");
    const loginLink = document.getElementById("loginLink");
    const logoutLink = document.getElementById("logoutLink");

    async function init() {
      const { data } = await db.auth.getUser();
      if (data.user) {
        statusPill.textContent = "Signed in";
        statusPill.style.borderColor = "rgba(159,230,160,.5)";
        hint.textContent = "Pick a demo. Each demo has its own 3 run limit.";
        loginLink.style.display = "none";
        logoutLink.style.display = "inline";
      } else {
        statusPill.textContent = "Not signed in";
        statusPill.style.borderColor = "rgba(255,120,120,.5)";
        loginLink.style.display = "inline";
        logoutLink.style.display = "none";
      }
    }

    logoutLink.addEventListener("click", async (e) => {
      e.preventDefault();
      await db.auth.signOut();
      location.reload();
    });

    init();
  </script>
</body>
</html>
