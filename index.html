<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ryttr ‚Äî launching soon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0b0f19">

  <!-- PWA basics -->
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">

  <!-- Emoji favicon -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="128" width="128"><text y="0.9em" font-size="100">üìù</text></svg>'>

  <style>
    :root { --bg:#0b0f19; --surface:#121826; --text:#e6e6e6; --muted:#aab0bd; --accent:#5b9cff; --chip:#0f1424; }
    * { box-sizing:border-box; }
    html, body { height:100%; }
    body {
      margin:0; background:var(--bg); color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      display:grid; place-items:center; padding:24px; text-align:center;
    }
    .card {
      width:100%; max-width:720px; background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.08); border-radius:18px; padding:32px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    h1 { margin:0 0 6px; font-size:36px; letter-spacing:0.3px; }
    .tagline { margin:0; color:var(--muted); }
    .punch { margin:10px 0 16px; font-weight:700; }
    .chips { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:14px 0 20px; }
    .chip { padding:8px 12px; border:1px solid rgba(255,255,255,0.12); border-radius:999px; font-size:13px; color:#cfd6e4; background:var(--chip); }
    form { display:grid; grid-template-columns:1fr auto; gap:10px; margin-top:10px; }
    input[type=email] {
      padding:13px 14px; border-radius:12px; border:1px solid rgba(255,255,255,0.14);
      background:#0f1424; color:var(--text); outline:none;
    }
    button {
      padding:13px 18px; border-radius:12px; border:0; background:var(--accent);
      color:#0b0f19; font-weight:800; letter-spacing:0.2px; cursor:pointer;
    }
    #message { margin-top:10px; font-size:14px; min-height:20px; }
    .fine { margin-top:10px; font-size:12px; color:var(--muted); }
    @media (max-width:520px) {
      h1 { font-size:30px; }
      form { grid-template-columns:1fr; }
      button { width:100%; }
    }
  </style>
</head>
<body>
  <main class="card">
    <h1>ryttr ‚úçÔ∏è</h1>
    <p class="tagline">Reclaim Your Time Through Results</p>
    <p class="punch">REDEEM YOUR TIME THROUGH RYTTR: launching soon üöÄ</p>

    <div class="chips" aria-hidden="true">
      <span class="chip">üìù AI writing</span>
      <span class="chip">üì∫ YouTube transcripts</span>
      <span class="chip">üìì online journals</span>
      <span class="chip">‚ö° productivity tools</span>
      <span class="chip">&lt;/&gt; coding helpers</span>
    </div>

    <!-- Signup form -->
    <form id="signupForm">
      <input type="email" id="email" placeholder="you@example.com" required>
      <button type="submit">Notify me</button>
    </form>

    <p id="message"></p>
    <p class="fine">We only use your email for product updates. No spam.</p>
  </main>

  <!-- Supabase client -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    // PWA: register a simple service worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('/sw.js').catch(()=>{}));
    }

    const { createClient } = supabase;
    const supabaseUrl = "https://fuiuaiquuhhsxrhzwtoa.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ1aXVhaXF1dWhoc3hyaHp3dG9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0OTA3NjAsImV4cCI6MjA3NTA2Njc2MH0.fVM46kXmEx-SuzXOzHwOgeXEKSp4qgS-wFWKQZf-4WY";
    const db = createClient(supabaseUrl, supabaseKey);

    const form = document.getElementById("signupForm");
    const message = document.getElementById("message");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      message.textContent = "";

      const { error } = await db.from("waitlist").insert([{ email }]);

      if (error) {
        message.textContent = "Error: " + error.message;
        message.style.color = "salmon";
      } else {
        window.location.href = "/thanks.html";
      }
    });
  </script>
</body>
</html>
